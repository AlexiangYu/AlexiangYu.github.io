<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="I love to share my thoughts and experiences about technology, programming, and life.">
    <meta name="keyword" content="">
    <meta name="theme-color" content="#600090">
    <meta name="msapplication-navbutton-color" content="#600090">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#600090">
    <link rel="shortcut icon" href="https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-person-128.png">
    <link rel="alternate" type="application/atom+xml" title="Alexaing" href="/atom.xml">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.css">
    <title>
        
        Python笔记｜undefined
        
    </title>

    <link rel="canonical" href="http://example.com/2024/05/18/Python笔记/">

    <!-- Bootstrap Core CSS -->
    
<link rel="stylesheet" href="/css/bootstrap.min.css">


    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/blog-style.css">


    <!-- Pygments Github CSS -->
    
<link rel="stylesheet" href="/css/syntax.css">

<meta name="generator" content="Hexo 7.2.0"></head>

<style>

    header.intro-header {
        background-image: url('')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top " id="nav-top" data-ispost = "true" data-istags="false
" data-ishome = "false" >
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand animated pulse" href="/">
                <span class="brand-logo">
                    Alexaing
                </span>
                's Blog
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <!-- /.navbar-collapse -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
					
                    
					
					
                </ul>
            </div>
        </div>
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
//    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>

<!-- Main Content -->

<!--only post-->


<img class="wechat-title-img"
     src="">


<style>
    
    header.intro-header {
        background-image: url('')
    }

    
</style>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <div class="post-heading">
                    <h1>Python笔记</h1>
                    
                    <span class="meta">
                         作者 Alexiang
                        <span>
                          日期 2024-05-18
                         </span>
                    </span>
                    <div class="tags text-center">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="post-title-haojen">
        <span>
            Python笔记
        </span>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Container -->
            <div class="col-lg-8 col-lg-offset-1 col-sm-9 post-container">
                <h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><p>解释器</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;hello, python&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s)</span><br></pre></td></tr></table></figure>

<h4 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h4><ul>
<li>int</li>
<li>float</li>
<li>string</li>
</ul>
<p>查看类型：<code>type(8963) = int_type</code></p>
<p><strong>注解</strong></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a: <span class="built_in">int</span> = <span class="number">1</span></span><br><span class="line">b: <span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">float</span>] = <span class="number">1.2</span></span><br></pre></td></tr></table></figure>

<p>联合类型注解：int 或 float</p>
<h4 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h4><p>命名只能出现：</p>
<ol>
<li>英文</li>
<li>中文（不推荐）</li>
<li>数字（不位于开头）</li>
<li>下划线</li>
</ol>
<ul>
<li>不能是关键字</li>
<li><strong>大小写敏感</strong></li>
</ul>
<p>规范：<br>下划线_小写英文</p>
<h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><ul>
<li>&#x2F;&#x2F; ：整除 <code>11/2 == 5</code></li>
<li>** ：指数 <code>2**3 == 8</code></li>
<li>可使用<code>a+=b</code>简写</li>
</ul>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>定义方式： 单引号，双引号，三引号（支持换行）</p>
<p><strong>转义字符：</strong> <code>\&quot;</code> 引号解除引用</p>
<p>拼接：<code>+</code>号</p>
<p><strong>格式化</strong> <code>%s</code> 占位符</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">114514</span></span><br><span class="line">name = <span class="string">&quot;Tim&quot;</span></span><br><span class="line">message = <span class="string">&quot;Today I am %d years elder than %s&quot;</span> %(age, name)<span class="string">&quot;</span></span><br></pre></td></tr></table></figure>

<p>快速写法 <code>f&quot;内容&#123;变量&#125;&quot;</code>：不限数据类型，不控制精度<br> <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Alex&quot;</span></span><br><span class="line">year = <span class="number">1789</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;我是<span class="subst">&#123;name&#125;</span>, 出生于<span class="subst">&#123;year&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="精度控制"><a href="#精度控制" class="headerlink" title="精度控制"></a>精度控制</h4><p><code>%m.nf</code> m：控制宽度；n控制小数精度，<strong>四舍五入</strong>。</p>
<h2 id="输入-输出"><a href="#输入-输出" class="headerlink" title="输入&#x2F;输出"></a>输入&#x2F;输出</h2><p>中断，从键盘输入： <code>name = input(&quot;Enter your name:&quot;)</code></p>
<h2 id="条件-循环"><a href="#条件-循环" class="headerlink" title="条件&#x2F;循环"></a>条件&#x2F;循环</h2><p>bool数据类型：True&#x2F;False</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">b1 = <span class="literal">True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(b1))     <span class="comment"># &lt;class &#x27;bool&#x27;&gt;</span></span><br></pre></td></tr></table></figure>
<p>比较运算符：&#x3D;&#x3D;, !&#x3D;, &lt;, &gt;&#x3D;</p>
<p>逻辑否定: <code>if not A:</code></p>
<h4 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h4><p>格式（缩进）：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a1 = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;Enter your age&quot;</span>))</span><br><span class="line"><span class="keyword">if</span> a1 &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Adult only:&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(a1-<span class="number">18</span>)</span><br><span class="line"><span class="keyword">elif</span> a1 &gt; <span class="number">80</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Your are too old&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Your are too young&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>多个组合：<code>elif</code></p>
<h4 id="while语句"><a href="#while语句" class="headerlink" title="while语句"></a>while语句</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">i: <span class="built_in">int</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">6</span>:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    i += <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="for语句"><a href="#for语句" class="headerlink" title="for语句"></a>for语句</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">slogan = <span class="string">&quot;Free China&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> slogan:</span><br><span class="line">    <span class="built_in">print</span>(x)</span><br></pre></td></tr></table></figure>

<p>range语句：</p>
<ul>
<li><code>range(num)</code>: 序列, 从0到num-1的整数</li>
<li><code>range(num1, num2, step)</code>: 该序列从num1开始，到num2结束（不包括num2），步长为step．</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">15</span>, <span class="number">2</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"><span class="comment"># 7</span></span><br><span class="line"><span class="comment"># 11</span></span><br><span class="line"><span class="comment"># 13</span></span><br></pre></td></tr></table></figure>
<p><strong>临时变量作用域</strong>: 循环外部也可以用, 有warning</p>
<h4 id="跳过-中断"><a href="#跳过-中断" class="headerlink" title="跳过&#x2F;中断"></a>跳过&#x2F;中断</h4><ul>
<li><code>continue</code> 中断, 进入下一次循环</li>
<li><code>break</code> 结束循环</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">15</span>, <span class="number">2</span>):</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">9</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>


<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h4 id="定义"><a href="#定义" class="headerlink" title="定义:"></a>定义:</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">function</span>(<span class="params">x, y</span>):</span><br><span class="line">    body</span><br><span class="line">    <span class="keyword">return</span> n</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">one = function(a, b)</span><br></pre></td></tr></table></figure>
<p>默认返回值: None, 类型: &lt;class ‘NoneType’&gt; <strong>假</strong></p>
<p>例子:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_len</span>(<span class="params">data</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    求字符串长度的函数</span></span><br><span class="line"><span class="string">    :param data: 传入参数字符串</span></span><br><span class="line"><span class="string">    :return: 返回结果</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    n = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> data:</span><br><span class="line">        n += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;We have <span class="subst">&#123;n&#125;</span> letter(s) in <span class="subst">&#123;data&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">my_len(<span class="string">&quot;eraser&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(my_len(<span class="string">&quot;administration&quot;</span>)))</span><br></pre></td></tr></table></figure>

<p>说明文档 <strong>docstrings</strong>: 多行注释,自动生成: <code>:param data:</code> <code>:return: </code></p>
<p>函数内全局变量赋值: 用<code>globa</code>关键字</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_function</span>(): </span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    num = <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>多返回值</strong></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func_test</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>, <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(func_test())</span><br><span class="line"><span class="comment"># (1, 2)</span></span><br></pre></td></tr></table></figure>

<p>类型： <code>&lt;class &#39;tuple&#39;&gt;</code></p>
<h2 id="多参数"><a href="#多参数" class="headerlink" title="多参数"></a>多参数</h2><ul>
<li>位置参数：根据定义的参数个数、位置一致</li>
<li>关键字参数：key&#x3D;value 无顺序 *args</li>
<li>参数缺省：定义默认值，<strong>位置在最后</strong></li>
<li>不定长参数：<ul>
<li>*args  一个元组</li>
<li>**kwarg 键值对 参数组成字典</li>
</ul>
</li>
<li>调用时：<ul>
<li>*容器 unpack成位置参数</li>
<li>**容器 字典-&gt; 关键字参数</li>
</ul>
</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func_test2</span>(<span class="params">name, num, isTrue=<span class="literal">True</span></span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Hello <span class="subst">&#123;name&#125;</span>, the num is <span class="subst">&#123;num&#125;</span> and it&#x27;s <span class="subst">&#123;isTrue&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func_test2(<span class="string">&quot;Tom&quot;</span>, isTrue=<span class="literal">False</span>, num=<span class="number">114154</span>)</span><br><span class="line"></span><br><span class="line">func_test2(<span class="string">&quot;Jey&quot;</span>, <span class="number">11</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func_test3</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;The args is <span class="subst">&#123;args&#125;</span>, the K-W args is <span class="subst">&#123;kwargs&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func_test3(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, stu_name=<span class="string">&quot;Alex&quot;</span>, age=<span class="number">123</span>)</span><br></pre></td></tr></table></figure>
<p>例子：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Aniki</span>(<span class="params">a, *b, **c</span>):</span><br><span class="line">    z = [a, b, c]</span><br><span class="line">    <span class="built_in">print</span>(z)</span><br><span class="line"><span class="comment"># a:一个位置参数 b:元组 c:所有键值对</span></span><br><span class="line"></span><br><span class="line">Aniki(<span class="number">1</span>, <span class="number">2</span>, <span class="string">&quot;b&quot;</span>, x=<span class="string">&quot;123&quot;</span>, y=<span class="string">&quot;456&quot;</span>)</span><br><span class="line"><span class="comment"># [1, (2, &#x27;b&#x27;), &#123;&#x27;x&#x27;: &#x27;123&#x27;, &#x27;y&#x27;: &#x27;456&#x27;&#125;]</span></span><br></pre></td></tr></table></figure>

<h3 id="强制位参数"><a href="#强制位参数" class="headerlink" title="强制位参数"></a>强制位参数</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">a, b, /, c, d, *, e, f</span>):</span><br><span class="line">    <span class="built_in">print</span>(a, b, c, d, e, f)</span><br></pre></td></tr></table></figure>
<p>形参 a 和 b 必须使用指定位置参数，c 或 d 可以是位置形参或关键字形参，而 e 和 f 要求为关键字形参</p>
<h2 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h2><p>关键字 lambda <strong>临时使用一次</strong></p>
<p><code>引用 = lambda 参数列表:表达式</code></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: x*x, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])))</span><br><span class="line"><span class="comment"># [1, 4, 9, 16, 25]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(reduce(<span class="keyword">lambda</span> x, y: x + y, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]))</span><br><span class="line"><span class="comment"># 15</span></span><br></pre></td></tr></table></figure>


<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>在一个函数内部定义另外一个函数，并且把这个函数对象作为返回值</p>
<p><strong>需要使用外层函数的变量（包括参数）</strong></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">increment</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> x:x+n</span><br><span class="line"></span><br><span class="line">f=increment(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(f(<span class="number">10</span>))    <span class="comment"># 14</span></span><br></pre></td></tr></table></figure>

<p><code>nonlocal</code> 外部变量</p>
<h3 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h3><p>给函数增加新功能，不改变原函数</p>
<p>目标函数前 <code>@outer_decorator</code></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_decorator</span>(<span class="params">func</span>):    <span class="comment"># 装饰器函数</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **kwargs</span>):    <span class="comment"># 装饰器包裹函数</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Before function call&quot;</span>)</span><br><span class="line">        result = func(*args, **kwargs)    <span class="comment"># 调用被装饰函数</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;After function call&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="meta">@my_decorator    </span><span class="comment"># 装饰器调用</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_function</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Hello <span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">my_function(<span class="string">&quot;Tom&quot;</span>)    <span class="comment"># 输出 Before function call Hello Tom After function call</span></span><br></pre></td></tr></table></figure>

<p><strong>多个装饰器</strong></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_decorator</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Before function call&quot;</span>)</span><br><span class="line">        result = func(*args, **kwargs)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;After function call&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_decorator2</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Before function call 2&quot;</span>)</span><br><span class="line">        result = func(*args, **kwargs)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;After function call 2&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@my_decorator</span></span><br><span class="line"><span class="meta">@my_decorator2</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_function</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Hello <span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">my_function(<span class="string">&quot;Tom&quot;</span>)    <span class="comment"># 输出 Before function call 2 Before function call Hello Tom After function call 2 After function call 2</span></span><br></pre></td></tr></table></figure>


<h2 id="数据容器"><a href="#数据容器" class="headerlink" title="数据容器"></a>数据容器</h2><p>各种数据结构</p>
<h4 id="列表-list"><a href="#列表-list" class="headerlink" title="列表(list)"></a>列表(list)</h4><p><code>my_list = [&#39;Alex&#39;, &#39;Bob&#39;, True, [1, 2, 3]]</code></p>
<ul>
<li>元素可以<strong>异类型</strong>, 支持嵌套, <strong>可重复</strong></li>
<li><strong>有序</strong>: 下标索引 0, 1, 2, 3……</li>
<li>下标索引(反向) ……-3, -2, -1</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(my_list[<span class="number">1</span>], my_list[-<span class="number">1</span>][<span class="number">0</span>])</span><br><span class="line"><span class="comment"># Bob 1</span></span><br></pre></td></tr></table></figure>

<p><strong>方法</strong></p>
<ol>
<li><strong>查询下标</strong>: 返回索引, 不存在则报错</li>
<li><strong>修改元素</strong>: 指定下标</li>
<li><strong>插入元素</strong>: 指定下标, 指定元素</li>
<li><strong>追加</strong>: 元素(容器)放到尾部 extend([29, 11])</li>
<li><strong>删除</strong>: <ul>
<li>del</li>
<li>pop() 默认最后一个元素</li>
<li>remove(a) 从前到后, 仅删一个</li>
</ul>
</li>
<li><strong>统计</strong>: count(元素)</li>
<li><strong>统计总数</strong>: len(my_list)</li>
<li><strong>清空</strong>: clear()</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">index = my_list.index(<span class="string">&quot;Alex&quot;</span>)     <span class="comment"># 0</span></span><br><span class="line"></span><br><span class="line">my_list[<span class="number">0</span>] = <span class="string">&quot;Alice&quot;</span></span><br><span class="line"></span><br><span class="line">my_list.insert(<span class="number">2</span>, <span class="string">&quot;Charlie&quot;</span>)</span><br><span class="line"></span><br><span class="line">my_list.append(<span class="string">&#x27;final&#x27;</span>)</span><br><span class="line">my_list.extend(list2)</span><br><span class="line"><span class="comment"># [&#x27;Alice&#x27;, &#x27;Bob&#x27;, &#x27;Charlie&#x27;, 2022, True, [1, 2, 3], &#x27;final&#x27;, 1949, 1989, 2019]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> list2[<span class="number">2</span>]    <span class="comment"># [1949, 1989]</span></span><br><span class="line"></span><br><span class="line">elem = my_list.pop(<span class="number">3</span>)    <span class="comment"># 2022</span></span><br><span class="line"></span><br><span class="line">my_list.remove(<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># [&#x27;Alice&#x27;, &#x27;Bob&#x27;, &#x27;Charlie&#x27;, [1, 2, 3], &#x27;final&#x27;, 1949, 1989, 2019]</span></span><br><span class="line"></span><br><span class="line">list2.insert(<span class="number">1</span>, <span class="number">1989</span>)</span><br><span class="line">dup = list2.count(<span class="number">1989</span>)    <span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line">num = <span class="built_in">len</span>(my_list)    <span class="comment"># 8</span></span><br><span class="line"></span><br><span class="line">my_list.clear()</span><br><span class="line"><span class="comment"># my_list == []</span></span><br></pre></td></tr></table></figure>

<p><strong>迭代</strong></p>
<p>while循环:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="built_in">len</span>(my_list):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;i&#125;</span>: <span class="subst">&#123;my_list[i]&#125;</span>&quot;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>for循环(依次序): </p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ele <span class="keyword">in</span> my_list:</span><br><span class="line">    <span class="built_in">print</span>(ele)</span><br></pre></td></tr></table></figure>


<h4 id="元组-tuple"><a href="#元组-tuple" class="headerlink" title="元组(tuple)"></a>元组(tuple)</h4><p><strong>不可修改</strong>的list</p>
<p><code>my_tuple = (1, &quot;Hello&quot;, True)</code></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t1 = <span class="built_in">tuple</span>()</span><br><span class="line">t2 = ((), )</span><br></pre></td></tr></table></figure>

<ul>
<li>但其中有list可以对内容赋值</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">t3 = (<span class="number">1</span>, <span class="string">&quot;NM$L&quot;</span>, [<span class="string">&quot;Alex&quot;</span>, <span class="string">&quot;Bob&quot;</span>])</span><br><span class="line">t3[-<span class="number">1</span>][<span class="number">0</span>] = <span class="string">&quot;Alice&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(t3)</span><br><span class="line"><span class="comment"># (1, &#x27;NM$L&#x27;, [&#x27;Alice&#x27;, &#x27;Bob&#x27;])</span></span><br></pre></td></tr></table></figure>

<h4 id="字符串-string"><a href="#字符串-string" class="headerlink" title="字符串(string)"></a>字符串(string)</h4><p>任意数量的字符 <strong>不可修改</strong></p>
<p><code>my_str = &quot;fight for freedom&quot; </code></p>
<ol>
<li><strong>替换</strong>: replace(“s0”, “s1”)   s0替换为s1，得到新字符串</li>
<li><strong>分隔</strong>: split(“s2”) 以s2为间隔切分，装入list中</li>
<li><strong>规整</strong>: strip(“ “) 去除首尾空格&#x2F;指定字符串</li>
<li>查找子串出现次数</li>
<li>获取长度</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">my_str = <span class="string">&quot;fight for freedom&quot;</span></span><br><span class="line"></span><br><span class="line">new_slogan = my_str.replace(<span class="string">&quot;for&quot;</span>, <span class="string">&quot;with&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(new_slogan)</span><br><span class="line"><span class="comment"># fight with freedom 替换内容</span></span><br><span class="line"></span><br><span class="line">str_list = my_str.split(<span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(str_list)</span><br><span class="line"><span class="comment"># [&#x27;fight&#x27;, &#x27;for&#x27;, &#x27;freedom&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(my_str.strip(<span class="string">&#x27;dom&#x27;</span>))</span><br><span class="line"><span class="comment"># fight with free</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="序列-切片"><a href="#序列-切片" class="headerlink" title="序列-切片"></a>序列-切片</h4><p>取出子序列：<code>序列[起始下标:结束下标:步长]</code></p>
<p>步长为负：反向取</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str9 = <span class="string">&quot;cdefgab&quot;</span></span><br><span class="line"><span class="built_in">print</span>(str9[::<span class="number">2</span>])</span><br><span class="line"><span class="comment"># cegb</span></span><br></pre></td></tr></table></figure>


<h4 id="集合-set"><a href="#集合-set" class="headerlink" title="集合(set)"></a>集合(set)</h4><p>多个数据：无序 <strong>去重</strong> 可修改</p>
<p><code>my_set = &#123;&quot;Alex&quot;, &quot;Bob&quot;, &quot;Alex&quot;&#125;</code></p>
<ol>
<li><strong>添加元素</strong> add(el)</li>
<li><strong>移除</strong> remove(el)</li>
<li><strong>随机取出</strong> pop()</li>
<li><strong>清空</strong> clear()</li>
<li><strong>取差集</strong> set1.difference(set2) 得到新集合，为set1有 set2没有的</li>
<li><strong>交集</strong> set1.union(set2)</li>
<li>元素数量 len(my_set)</li>
<li>for 遍历</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">my_set = &#123;<span class="string">&quot;Alex&quot;</span>, <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;Alex&quot;</span>&#125;</span><br><span class="line">set2 = &#123;<span class="string">&quot;Alex&quot;</span>, <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;Charlie&quot;</span>&#125;</span><br><span class="line">my_set.add(<span class="number">564</span>)</span><br><span class="line"><span class="built_in">print</span>(my_set)</span><br><span class="line"></span><br><span class="line"><span class="comment"># element = my_set.pop()</span></span><br><span class="line"><span class="comment"># print(element)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(my_set.difference(set2))</span><br><span class="line"></span><br><span class="line"><span class="comment"># my_set.difference_update(set2)</span></span><br><span class="line"><span class="comment"># print(my_set)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(my_set.union(set2))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">my_set.clear()</span><br></pre></td></tr></table></figure>



<h4 id="字典-dict"><a href="#字典-dict" class="headerlink" title="字典(dict)"></a>字典(dict)</h4><p>key-value <strong>键值对</strong> </p>
<p>原生：通过key值找value <strong>key唯一</strong> </p>
<p><code>my_dict = &#123;&quot;Alex&quot;: 564, &quot;Bob&quot;: 8963, &quot;Charlie&quot;: 1918&#125;</code></p>
<p>value可嵌套</p>
<ol>
<li><strong>新增&#x2F;更新</strong> dict[‘A’] &#x3D; 123</li>
<li><strong>删除</strong> pop(‘B’)</li>
<li><strong>清空</strong> clear()</li>
<li><strong>取全部key</strong> keys() 是list</li>
<li><strong>遍历</strong> for</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">my_dict = &#123;<span class="string">&quot;Alex&quot;</span>: <span class="number">564</span>, <span class="string">&quot;Bob&quot;</span>: <span class="number">8963</span>, <span class="string">&quot;Charlie&quot;</span>: <span class="number">1918</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(my_dict[<span class="string">&quot;Alex&quot;</span>])</span><br><span class="line"><span class="comment"># 564</span></span><br><span class="line"></span><br><span class="line">stu_dict = &#123;<span class="string">&quot;Alex&quot;</span>: &#123;<span class="string">&quot;ch&quot;</span>: <span class="number">99</span>, <span class="string">&quot;Math&quot;</span>: <span class="number">101</span>, <span class="string">&quot;English&quot;</span>: <span class="number">120</span>&#125;, <span class="string">&quot;Bob&quot;</span>: &#123;<span class="string">&quot;ch&quot;</span>: <span class="number">101</span>, <span class="string">&quot;Math&quot;</span>: <span class="number">111</span>, <span class="string">&quot;English&quot;</span>: <span class="number">121</span>&#125;&#125;</span><br><span class="line"><span class="built_in">print</span>(stu_dict[<span class="string">&quot;Alex&quot;</span>][<span class="string">&quot;ch&quot;</span>])</span><br><span class="line"><span class="comment"># 99</span></span><br><span class="line"></span><br><span class="line">my_dict[<span class="string">&quot;Daniel&quot;</span>] = <span class="number">116</span></span><br><span class="line"><span class="built_in">print</span>(my_dict)</span><br><span class="line"><span class="built_in">print</span>(my_dict.pop(<span class="string">&quot;Alex&quot;</span>))</span><br><span class="line"><span class="comment"># 564</span></span><br><span class="line"></span><br><span class="line">keys = <span class="built_in">list</span>(my_dict.keys())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历字典</span></span><br><span class="line"><span class="built_in">print</span>(keys)</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> my_dict:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;k&#125;</span>: <span class="subst">&#123;my_dict[k]&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="容器通用操作"><a href="#容器通用操作" class="headerlink" title="容器通用操作"></a>容器通用操作</h4><ul>
<li><strong>元素个数</strong> len(my_list)</li>
<li><strong>最大&#x2F;小元素</strong> max(my_dict)</li>
<li><strong>类型转换</strong> 不能转换成字典 list(my_set)</li>
<li><strong>排序</strong> sorted(my_list, [顺序])<ul>
<li>返回list</li>
<li>降序 <code>reverse=True</code></li>
</ul>
</li>
</ul>
<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><h4 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h4><p>open函数</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;file_test&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>参数mode:</p>
<ul>
<li>‘r’: 只读，指针在文件开头</li>
<li>‘w’: （创建）并写入，若文件不存在则覆盖</li>
<li>‘a’: 追加，文件不存则创建</li>
</ul>
<h4 id="读取"><a href="#读取" class="headerlink" title="读取"></a>读取</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = f.read(<span class="number">10</span>)</span><br><span class="line">content = f.readlines() <span class="comment"># 读取全部内容；一个列表，元素为每行内容</span></span><br></pre></td></tr></table></figure>
<p>read()参数：</p>
<ul>
<li>数据长度（字节）</li>
<li>缺省为全部读取</li>
</ul>
<p>readlines()：</p>
<ol>
<li>读取全部内容</li>
<li>一个列表，元素为每行内容</li>
</ol>
<p>readline()</p>
<ul>
<li>一次仅读一行</li>
</ul>
<p><strong>for 循环读取</strong></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> l <span class="keyword">in</span> <span class="built_in">open</span>(<span class="string">&#x27;./file_test&#x27;</span>, <span class="string">&#x27;r&#x27;</span>):</span><br><span class="line">    <span class="built_in">print</span>(l)</span><br></pre></td></tr></table></figure>
<p>临时变量 <code>l</code></p>
<h4 id="写入"><a href="#写入" class="headerlink" title="写入"></a>写入</h4><p>flush 刷新缓冲区：主存-&gt;磁盘</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># f = open(&#x27;./file_test&#x27;, &#x27;w&#x27;, encoding=&#x27;utf-8&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># for i in range(10):</span></span><br><span class="line"><span class="comment">#     f.write(f&#x27;hello world &#123; i &#125;\n&#x27;)</span></span><br><span class="line"><span class="comment"># f.flush()</span></span><br><span class="line"><span class="comment"># f.close()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./file_test&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>):</span><br><span class="line">        f.write(<span class="string">f&#x27;hello world <span class="subst">&#123;i&#125;</span>\n&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="关闭"><a href="#关闭" class="headerlink" title="关闭"></a>关闭</h4><p>解除占用</p>
<p><code>f.close()</code></p>
<p><strong>with open 语法</strong></p>
<p>执行完自动关闭</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./file_test&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f2:</span><br><span class="line">    f2.readlines()</span><br></pre></td></tr></table></figure>


<h2 id="捕获异常"><a href="#捕获异常" class="headerlink" title="捕获异常"></a>捕获异常</h2><p>try&#x2F;except 语句</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;执行的代码&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;处理异常的代码&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;没有异常&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>多个&#x2F;特定异常：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;执行的代码&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;处理异常的代码&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;没有异常&quot;</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;finished, goodbye&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>顶级异常: <strong>Exception</strong></p>
<p>从内向外传递，每层都可捕获</p>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><p> <code>import</code> 模块名</p>
<p>模块的名称：<code>__name__</code>内置变量</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    test(<span class="number">123</span>)</span><br></pre></td></tr></table></figure>


<p>限制可被 import * 的内容</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">__all__ = [<span class="string">&quot;mun&quot;</span>, <span class="string">&quot;b&quot;</span>]</span><br></pre></td></tr></table></figure>

<p>package.module</p>
<p>具有__init__.py 的文件</p>
<h2 id="定义类"><a href="#定义类" class="headerlink" title="定义类"></a>定义类</h2><ul>
<li>成员变量</li>
<li>成员方法 (self, )</li>
</ul>
<p><strong>私有成员</strong>：<code>__private_method</code> 两个下划线开头</p>
<h4 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h4><p>内置的方法：魔术方法</p>
<p>赋值：自动执行</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, </span>):</span><br><span class="line">    self.data = []</span><br><span class="line">    self.name = name</span><br></pre></td></tr></table></figure>

<p>重写str：一个对象成为<code>print()</code>函数参数输出的内容</p>
<p>print 输出的默认是内存地址</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">     <span class="keyword">return</span> <span class="string">f&quot;This is a xxx object!&quot;</span></span><br></pre></td></tr></table></figure>

<p>重写对象之比较大小</p>
<ul>
<li><code>__lt__</code>：&lt;</li>
<li><code>__le__</code>：&lt;&#x3D;</li>
<li><code>__eq__</code>：&#x3D;&#x3D;</li>
</ul>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><p>可多继承</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span>(BaseClass1, BaseClass2):</span><br><span class="line"><span class="comment"># 父类方法名：左边最优先</span></span><br></pre></td></tr></table></figure>

<p><code>pass</code> 补全 空的代码块</p>
<p>可在子类中复写</p>
<p>调用父类成员：<code>super().method()</code> 或 <code>BaseClass.method(self)</code></p>
<h4 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h4><p>父类引用子类对象，调用子类方法</p>

                <hr>
                

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2024/05/30/JavaScript笔记/" data-toggle="tooltip" data-placement="top"
                           title="JavaScript 笔记">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2024/05/14/My-New-Post/" data-toggle="tooltip" data-placement="top"
                           title="My New Post">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                

                


                <!--加入新的评论系统-->
                

                

            </div>

            <div class="hidden-xs col-sm-3 toc-col">
                <div class="toc-wrap">
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-text">基础</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-text">标识符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">运算符</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B2%BE%E5%BA%A6%E6%8E%A7%E5%88%B6"><span class="toc-text">精度控制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%85%A5-%E8%BE%93%E5%87%BA"><span class="toc-text">输入&#x2F;输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6-%E5%BE%AA%E7%8E%AF"><span class="toc-text">条件&#x2F;循环</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#if%E8%AF%AD%E5%8F%A5"><span class="toc-text">if语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#while%E8%AF%AD%E5%8F%A5"><span class="toc-text">while语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#for%E8%AF%AD%E5%8F%A5"><span class="toc-text">for语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%B3%E8%BF%87-%E4%B8%AD%E6%96%AD"><span class="toc-text">跳过&#x2F;中断</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-text">定义:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%8F%82%E6%95%B0"><span class="toc-text">多参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%BA%E5%88%B6%E4%BD%8D%E5%8F%82%E6%95%B0"><span class="toc-text">强制位参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-text">匿名函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-text">装饰器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%B9%E5%99%A8"><span class="toc-text">数据容器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8-list"><span class="toc-text">列表(list)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%BB%84-tuple"><span class="toc-text">元组(tuple)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2-string"><span class="toc-text">字符串(string)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%8F%E5%88%97-%E5%88%87%E7%89%87"><span class="toc-text">序列-切片</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%86%E5%90%88-set"><span class="toc-text">集合(set)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-dict"><span class="toc-text">字典(dict)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E9%80%9A%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">容器通用操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-text">文件操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6"><span class="toc-text">打开文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96"><span class="toc-text">读取</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%99%E5%85%A5"><span class="toc-text">写入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%97%AD"><span class="toc-text">关闭</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8D%95%E8%8E%B7%E5%BC%82%E5%B8%B8"><span class="toc-text">捕获异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97"><span class="toc-text">模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E7%B1%BB"><span class="toc-text">定义类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-text">构造方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-text">继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%80%81"><span class="toc-text">多态</span></a></li></ol></li></ol></li></ol>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                

                <!-- Friends Blog -->
                
            </div>
        </div>

    </div>
</article>







<!-- Footer -->
<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <br>
                <ul class="list-inline text-center">
                
                
                

                

                

                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Alexaing 2024
                    <br>
                    <span id="busuanzi_container_site_pv" style="font-size: 12px;">PV: <span id="busuanzi_value_site_pv"></span> Times</span>
                    <br>
                    Theme by <a target="_blank" rel="noopener" href="https://haojen.github.io/">Haojen Ma</a>
                </p>

            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- Bootstrap Core JavaScript -->

<script src="/js/bootstrap.min.js"></script>


<!-- Custom Theme JavaScript -->

<script src="/js/blog.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://example.com/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>



<!-- Google Analytics -->



<!-- Baidu Tongji -->


<!-- swiftype -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','','2.0.0');
</script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!--wechat title img-->
<img class="wechat-title-img" src="">
</body>

</html>
